var te=t=>{throw TypeError(t)};var Q=(t,a,s)=>a.has(t)||te("Cannot "+s);var l=(t,a,s)=>(Q(t,a,"read from private field"),s?s.call(t):a.get(t)),T=(t,a,s)=>a.has(t)?te("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(t):a.set(t,s),O=(t,a,s,r)=>(Q(t,a,"write to private field"),r?r.call(t,s):a.set(t,s),s),I=(t,a,s)=>(Q(t,a,"access private method"),s);import{c as je,ay as ge,az as Ne,aA as re,aB as ye,aC as oe,z as W,r as f,aD as pe,aE as ve,R as de,j as e,D as X,d as Y,e as Z,f as $,i as be,B as E,aF as we,E as A,s as _,J as L,N as Ce,g as Pe,b as _e,A as ie}from"./index-FgfazPn4.js";import{u as Ee}from"./use-mobile-CasDpXHz.js";import{I as U}from"./input-Cc5DIsqr.js";import{L as w,T as ne,C as ce}from"./label-C7AHjZf1.js";import{L as F}from"./loader-circle-HvrrQJfJ.js";import{U as ke}from"./user-L0Nw7dze.js";import{M as Le,H as Fe}from"./map-pin-Bd6tXVet.js";import{F as qe}from"./file-text-hP0IkulY.js";import{T as De,a as Me,b as J,c as V}from"./tabs-CXhmf9qd.js";import{D as me,P as S}from"./users-7LwHL_dG.js";import{T as Te}from"./trending-up-_gLokptJ.js";import{B as Oe}from"./BottomMobileNavigation-COLTeJeJ.js";import"./MobileFilterButtons-DfOhOMAv.js";import"./printer-X5np4qGe.js";import"./shopping-cart-Dlmx8wK6.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var C,P,u,v,b,H,G,le,Ue=(le=class extends ge{constructor(a,s){super();T(this,b);T(this,C);T(this,P);T(this,u);T(this,v);O(this,C,a),this.setOptions(s),this.bindMethods(),I(this,b,H).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){var r;const s=this.options;this.options=l(this,C).defaultMutationOptions(a),Ne(this.options,s)||l(this,C).getMutationCache().notify({type:"observerOptionsUpdated",mutation:l(this,u),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&re(s.mutationKey)!==re(this.options.mutationKey)?this.reset():((r=l(this,u))==null?void 0:r.state.status)==="pending"&&l(this,u).setOptions(this.options)}onUnsubscribe(){var a;this.hasListeners()||(a=l(this,u))==null||a.removeObserver(this)}onMutationUpdate(a){I(this,b,H).call(this),I(this,b,G).call(this,a)}getCurrentResult(){return l(this,P)}reset(){var a;(a=l(this,u))==null||a.removeObserver(this),O(this,u,void 0),I(this,b,H).call(this),I(this,b,G).call(this)}mutate(a,s){var r;return O(this,v,s),(r=l(this,u))==null||r.removeObserver(this),O(this,u,l(this,C).getMutationCache().build(l(this,C),this.options)),l(this,u).addObserver(this),l(this,u).execute(a)}},C=new WeakMap,P=new WeakMap,u=new WeakMap,v=new WeakMap,b=new WeakSet,H=function(){var s;const a=((s=l(this,u))==null?void 0:s.state)??ye();O(this,P,{...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset})},G=function(a){oe.batch(()=>{var s,r,m,o,d,x,y,p;if(l(this,v)&&this.hasListeners()){const c=l(this,P).variables,g=l(this,P).context;(a==null?void 0:a.type)==="success"?((r=(s=l(this,v)).onSuccess)==null||r.call(s,a.data,c,g),(o=(m=l(this,v)).onSettled)==null||o.call(m,a.data,null,c,g)):(a==null?void 0:a.type)==="error"&&((x=(d=l(this,v)).onError)==null||x.call(d,a.error,c,g),(p=(y=l(this,v)).onSettled)==null||p.call(y,void 0,a.error,c,g))}this.listeners.forEach(c=>{c(l(this,P))})})},le);function xe(t,a){const s=W(),[r]=f.useState(()=>new Ue(s,t));f.useEffect(()=>{r.setOptions(t)},[r,t]);const m=f.useSyncExternalStore(f.useCallback(d=>r.subscribe(oe.batchCalls(d)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=f.useCallback((d,x)=>{r.mutate(d,x).catch(pe)},[r]);if(m.error&&ve(r.options.throwOnError,[m.error]))throw m.error;return{...m,mutate:o,mutateAsync:m.mutate}}const Ke=({isOpen:t,onClose:a,supplier:s,onSupplierUpdated:r,isLoading:m=!1})=>{const[o,d]=f.useState({name:(s==null?void 0:s.name)||"",description:(s==null?void 0:s.description)||"",contact_person:(s==null?void 0:s.contact_person)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",address:(s==null?void 0:s.address)||""});de.useEffect(()=>{s&&d({name:s.name||"",description:s.description||"",contact_person:s.contact_person||"",email:s.email||"",phone:s.phone||"",address:s.address||""})},[s]);const x=(c,g)=>{d(q=>({...q,[c]:g}))},y=()=>{s&&r({...s,...o})},p=()=>{s&&d({name:s.name||"",description:s.description||"",contact_person:s.contact_person||"",email:s.email||"",phone:s.phone||"",address:s.address||""}),a()};return e.jsx(X,{open:t,onOpenChange:a,children:e.jsxs(Y,{className:"w-full max-w-[95vw] sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[e.jsx(Z,{children:e.jsx($,{className:"text-lg sm:text-xl",children:"Edit Supplier Details"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"name",className:"text-sm font-medium",children:"Supplier Name *"}),e.jsx(U,{id:"name",value:o.name,onChange:c=>x("name",c.target.value),placeholder:"Enter supplier name",className:"w-full",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"contact_person",className:"text-sm font-medium",children:"Contact Person"}),e.jsx(U,{id:"contact_person",value:o.contact_person,onChange:c=>x("contact_person",c.target.value),placeholder:"Enter contact person name",className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),e.jsx(U,{id:"email",type:"email",value:o.email,onChange:c=>x("email",c.target.value),placeholder:"Enter email address",className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone"}),e.jsx(U,{id:"phone",value:o.phone,onChange:c=>x("phone",c.target.value),placeholder:"Enter phone number",className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"address",className:"text-sm font-medium",children:"Address"}),e.jsx(ne,{id:"address",value:o.address,onChange:c=>x("address",c.target.value),placeholder:"Enter address",className:"w-full",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(ne,{id:"description",value:o.description,onChange:c=>x("description",c.target.value),placeholder:"Enter supplier description",className:"w-full",rows:3})]})]}),e.jsx(be,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsx(E,{variant:"outline",onClick:p,disabled:m,className:"flex-1 sm:flex-none",children:"Cancel"}),e.jsx(E,{onClick:y,disabled:m||!o.name.trim(),className:"flex-1 sm:flex-none",children:m?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})})]})})},Ae=({isOpen:t,onClose:a,supplier:s})=>s?e.jsx(X,{open:t,onOpenChange:a,children:e.jsxs(Y,{className:"w-full max-w-[95vw] sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[e.jsx(Z,{children:e.jsx($,{className:"text-lg sm:text-xl",children:"Supplier Information"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-1",children:s.name}),e.jsxs("p",{className:"text-blue-700 text-sm",children:["Supplier ID: ",s.id.slice(0,8),"..."]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm uppercase tracking-wide",children:"Contact Information"}),s.contact_person&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ke,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Contact Person"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.contact_person})]})]}),s.email&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(we,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.email})]})]}),s.phone&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ie,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Phone"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.phone})]})]}),s.address&&e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Le,{className:"h-4 w-4 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Address"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.address})]})]})]}),s.description&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm uppercase tracking-wide",children:"Description"}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(qe,{className:"h-4 w-4 text-gray-500 mt-0.5"}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:s.description})]})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm uppercase tracking-wide",children:"Record Information"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ce,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Created"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ce,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Last Updated"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(s.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(E,{onClick:a,variant:"outline",children:"Close"})})]})}):null,Re=({isOpen:t,onClose:a,productSupplier:s,supplierId:r})=>{var z,M;const[m,o]=f.useState("update-price"),[d,x]=f.useState(((z=s==null?void 0:s.current_price)==null?void 0:z.toString())||""),[y,p]=f.useState(""),c=W();de.useEffect(()=>{var i;s&&(x(((i=s.current_price)==null?void 0:i.toString())||""),p(""))},[s]);const{data:g,isLoading:q}=A({queryKey:["price-history",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))return[];const{data:i,error:j}=await _.from("price_history").select("*").eq("product_supplier_id",s.id).order("timestamp",{ascending:!1});if(j)throw j;return i},enabled:!!(s!=null&&s.id)&&t}),{data:N,isLoading:R}=A({queryKey:["comparison-prices",s==null?void 0:s.product_id],queryFn:async()=>{if(!(s!=null&&s.product_id))return[];const{data:i,error:j}=await _.from("product_suppliers").select(`
          *,
          supplier:suppliers(name)
        `).eq("product_id",s.product_id).neq("supplier_id",r);if(j)throw j;return i||[]},enabled:!!(s!=null&&s.product_id)&&t}),D=xe({mutationFn:async({price:i,note:j})=>{if(!s)throw new Error("No product supplier selected");const{error:k}=await _.from("product_suppliers").update({current_price:i}).eq("id",s.id);if(k)throw k;const{error:B}=await _.from("price_history").insert({product_supplier_id:s.id,price:i,note:j||"Price updated"});if(B)throw B},onSuccess:()=>{L.success("Price updated successfully"),c.invalidateQueries({queryKey:["supplier-products",r]}),c.invalidateQueries({queryKey:["price-history",s==null?void 0:s.id]}),a()},onError:i=>{L.error("Failed to update price")}}),K=()=>{const i=parseFloat(d);if(isNaN(i)||i<0){L.error("Please enter a valid price");return}D.mutate({price:i,note:y})};return s?e.jsx(X,{open:t,onOpenChange:a,children:e.jsxs(Y,{className:"w-full max-w-[95vw] sm:max-w-[600px] max-h-[90vh] overflow-hidden",children:[e.jsxs(Z,{children:[e.jsxs($,{className:"text-lg sm:text-xl",children:["Product Pricing - ",s.product.name]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.product.sku})]}),e.jsxs(De,{value:m,onValueChange:o,className:"h-full flex flex-col",children:[e.jsxs(Me,{className:"grid w-full grid-cols-3",children:[e.jsxs(J,{value:"update-price",className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),"Update Price"]}),e.jsxs(J,{value:"history",className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4"}),"History"]}),e.jsxs(J,{value:"comparison",className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"Comparison"]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto py-4",children:[e.jsx(V,{value:"update-price",className:"mt-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("p",{className:"text-sm text-blue-700",children:"Current Price"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["₱",((M=s.current_price)==null?void 0:M.toFixed(2))||"0.00"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"newPrice",className:"text-sm font-medium",children:"New Price"}),e.jsx(U,{id:"newPrice",type:"number",step:"0.01",min:"0",value:d,onChange:i=>x(i.target.value),placeholder:"Enter new price",className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"priceNote",className:"text-sm font-medium",children:"Note (Optional)"}),e.jsx(U,{id:"priceNote",value:y,onChange:i=>p(i.target.value),placeholder:"Reason for price change",className:"w-full"})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(E,{variant:"outline",onClick:a,disabled:D.isPending,className:"flex-1",children:"Cancel"}),e.jsx(E,{onClick:K,disabled:D.isPending||!d.trim(),className:"flex-1",children:D.isPending?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):"Update Price"})]})]})}),e.jsx(V,{value:"history",className:"mt-0",children:e.jsx("div",{className:"space-y-3",children:q?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(F,{className:"h-6 w-6 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading history..."})]}):g&&g.length>0?g.map(i=>e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["₱",i.price.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-600",children:i.note||"Price update"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500",children:new Date(i.timestamp).toLocaleDateString()}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date(i.timestamp).toLocaleTimeString()})]})]})},i.id)):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No price history available."})})})}),e.jsx(V,{value:"comparison",className:"mt-0",children:e.jsx("div",{className:"space-y-3",children:R?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(F,{className:"h-6 w-6 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading comparison..."})]}):N&&N.length>0?N.map(i=>{var j,k;return e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:(j=i.supplier)==null?void 0:j.name}),e.jsx("p",{className:"text-sm text-gray-600",children:"Supplier"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["₱",((k=i.current_price)==null?void 0:k.toFixed(2))||"0.00"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Current Price"})]})]})},i.id)}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No other suppliers found for this product."})})})})]})]})]})}):null},ts=()=>{const{supplierId:t}=Ce(),a=Pe();_e();const s=W();Ee();const[r,m]=f.useState("products-price"),[o,d]=f.useState(!1),[x,y]=f.useState(!1),[p,c]=f.useState(!1),[g,q]=f.useState(null),{data:N,isLoading:R,error:D}=A({queryKey:["supplier",t],queryFn:async()=>{if(!t)throw new Error("Supplier ID is required");const{data:n,error:h}=await _.from("suppliers").select("*").eq("id",t).maybeSingle();if(h)throw h;return n},enabled:!!t}),{data:K,isLoading:z}=A({queryKey:["supplier-products",t],queryFn:async()=>{if(!t)return[];const{data:n,error:h}=await _.from("product_suppliers").select(`
          *,
          product:products(*),
          supplier:suppliers(*)
        `).eq("supplier_id",t);if(h)throw h;return n||[]},enabled:!!t}),{data:M,isLoading:i}=A({queryKey:["all-products"],queryFn:async()=>{const{data:n,error:h}=await _.from("products").select("*").order("name");if(h)throw h;return n||[]}}),j=xe({mutationFn:async n=>{if(!t)throw new Error("Supplier ID is required");const{error:h}=await _.from("suppliers").update(n).eq("id",t);if(h)throw h},onSuccess:()=>{L.success("Supplier updated successfully"),s.invalidateQueries({queryKey:["supplier",t]}),d(!1)},onError:n=>{console.error("Error updating supplier:",n),L.error("Failed to update supplier")}}),k=()=>{a("/admin-dashboard")},B=n=>{q(n),c(!0)},he=n=>{j.mutate(n)},ue=[{id:"products-price",label:"Pricing",icon:me},{id:"all-products",label:"Products",icon:S}];if(D||N===null&&!R)return L.error("Supplier not found or error loading supplier details"),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4 text-sm",children:"Supplier not found or error loading supplier details"}),e.jsxs(E,{onClick:k,variant:"outline",size:"sm",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})]})});if(R)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(F,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium text-sm",children:"Loading supplier details..."})]})});const fe=()=>r==="products-price"?e.jsx("div",{className:"h-full",children:z?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(F,{className:"h-6 w-6 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600 text-sm",children:"Loading products..."})]}):e.jsx("div",{className:"space-y-2",children:K&&K.length>0?K.map(n=>{var h,ee,se,ae;return e.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200 hover:border-blue-300 active:scale-[0.98] cursor-pointer transition-all duration-200 shadow-sm",onClick:()=>B(n),children:e.jsxs("div",{className:"flex justify-between items-start gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate",children:(h=n.product)==null?void 0:h.name}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:(ee=n.product)==null?void 0:ee.sku}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:(se=n.product)==null?void 0:se.category})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("p",{className:"font-semibold text-blue-600 text-sm",children:["₱",((ae=n.current_price)==null?void 0:ae.toFixed(2))||"0.00"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Current Price"})]})]})},n.id)}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(S,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No products with pricing available for this supplier."})]})})}):r==="all-products"?e.jsx("div",{className:"h-full",children:i?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(F,{className:"h-6 w-6 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600 text-sm",children:"Loading all products..."})]}):e.jsx("div",{className:"space-y-2",children:M&&M.length>0?M.map(n=>e.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex justify-between items-start gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate",children:n.name}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:n.sku}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.category})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(E,{variant:"outline",size:"sm",className:"text-xs h-8 px-3 active:scale-95 transition-transform",onClick:()=>{L.info("Add pricing functionality to be implemented")},children:"Add Price"})})]})},n.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(S,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No products available."})]})})}):null;return e.jsxs("div",{className:"flex flex-col h-screen w-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50",children:[e.jsxs("div",{className:"sticky top-0 z-30 bg-gradient-to-r from-blue-100 to-indigo-100 px-4 py-3 flex items-center justify-between border-b border-blue-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx(S,{className:"w-6 h-6 text-blue-500 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("span",{className:"text-base font-semibold text-gray-900 truncate block",children:(N==null?void 0:N.name)||"Supplier"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Dashboard"})]})]}),e.jsx(E,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 flex-shrink-0",onClick:()=>a(-1),"aria-label":"Back",children:e.jsx(ie,{className:"h-5 w-5 text-blue-500"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto pb-20",children:e.jsx("div",{className:"p-4 space-y-4",children:fe()})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-30 bg-white/95 backdrop-blur-lg border-t border-gray-200 shadow-2xl safe-area-bottom",children:e.jsx(Oe,{activeTab:r,onTabChange:n=>m(n),tabs:ue})}),e.jsx(Ke,{isOpen:o,onClose:()=>d(!1),supplier:N,onSupplierUpdated:he,isLoading:j.isPending}),e.jsx(Ae,{isOpen:x,onClose:()=>y(!1),supplier:N}),e.jsx(Re,{isOpen:p,onClose:()=>{c(!1),q(null)},productSupplier:g,supplierId:t||""})]})};export{ts as default};
//# sourceMappingURL=SupplierDashboard-Co2N1daZ.js.map
