{"version":3,"file":"PurchaseInvoicePreview-D8CbYxXA.js","sources":["../../src/components/sales/PurchaseInvoicePreview.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { PurchaseOrderWithDetails } from '@/types/purchaseOrder';\r\nimport { X } from 'lucide-react';\r\nimport { transactionService } from '@/services/transactionService';\r\n\r\ninterface PurchaseInvoicePreviewProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  purchaseOrder: PurchaseOrderWithDetails;\r\n}\r\n\r\nexport const PurchaseInvoicePreview: React.FC<PurchaseInvoicePreviewProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  purchaseOrder\r\n}) => {\r\n  const [relatedTransactions, setRelatedTransactions] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isOpen && purchaseOrder.client_po) {\r\n      fetchRelatedTransactions();\r\n    }\r\n  }, [isOpen, purchaseOrder.client_po]);\r\n\r\n  const fetchRelatedTransactions = async () => {\r\n    if (!purchaseOrder.client_po) return;\r\n    \r\n    setLoading(true);\r\n    try {\r\n      const transactions = await transactionService.getAllTransactions();\r\n      \r\n      // Filter transactions that match client_po or have similar purchase_order_number\r\n      const related = transactions.filter(t => {\r\n        return t.purchase_order_number === purchaseOrder.client_po ||\r\n               t.sales_invoice_number === purchaseOrder.client_po ||\r\n               t.delivery_receipt_number === purchaseOrder.client_po;\r\n      });\r\n      \r\n      setRelatedTransactions(related);\r\n    } catch (error) {\r\n      console.error('Error fetching related transactions:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handlePrint = () => {\r\n    window.print();\r\n  };\r\n\r\n  // Combine items from purchase order and related transactions\r\n  const allItems = [\r\n    ...(purchaseOrder.items || []),\r\n    ...relatedTransactions.map(t => ({\r\n      id: t.id,\r\n      model: t.model,\r\n      quantity: t.quantity,\r\n      unit_price: t.unit_price,\r\n      total_price: t.total_price,\r\n      isFromTransaction: true\r\n    }))\r\n  ];\r\n\r\n  const subtotal = allItems.reduce((sum, item) => sum + (item.total_price || 0), 0);\r\n  const taxRate = 0.12; // 12% VAT\r\n  const taxAmount = subtotal * taxRate;\r\n  const totalAmount = subtotal + taxAmount;\r\n\r\n  return (\r\n    <>\r\n      <style>\r\n        {`\r\n          @media print {\r\n            body * {\r\n              visibility: hidden !important;\r\n            }\r\n            #purchase-invoice-preview, #purchase-invoice-preview * {\r\n              visibility: visible !important;\r\n            }\r\n            #purchase-invoice-preview {\r\n              position: absolute !important;\r\n              left: 0; top: 0; width: 100vw; min-height: 100vh;\r\n              background: white !important;\r\n              box-shadow: none !important;\r\n              margin: 0 !important;\r\n              padding: 20px !important;\r\n              z-index: 9999 !important;\r\n            }\r\n            .no-print {\r\n              display: none !important;\r\n            }\r\n          }\r\n        `}\r\n      </style>\r\n      \r\n      <Dialog open={isOpen} onOpenChange={onClose}>\r\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader className=\"no-print\">\r\n            <DialogTitle className=\"flex items-center justify-between\">\r\n              <span>Purchase Invoice Preview</span>\r\n              <div className=\"flex gap-2\">\r\n                <Button onClick={handlePrint} variant=\"outline\" size=\"sm\">\r\n                  Print\r\n                </Button>\r\n                <Button onClick={onClose} variant=\"ghost\" size=\"sm\">\r\n                  <X className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n\r\n          <div id=\"purchase-invoice-preview\" className=\"bg-white p-8 space-y-6\">\r\n            {/* Header */}\r\n            <div className=\"flex justify-between items-start border-b pb-6\">\r\n              <div>\r\n                <h1 className=\"text-3xl font-bold text-blue-800\">TechPinoy</h1>\r\n                <p className=\"text-sm text-gray-600 mt-1\">Your Trusted Tech Partner</p>\r\n                <div className=\"text-xs text-gray-500 mt-2\">\r\n                  <p>Unit 2A, 2nd Floor, 1010 Metropolitan Ave</p>\r\n                  <p>Makati, Metro Manila, Philippines</p>\r\n                  <p>Phone: +63 2 1234 5678 | Email: info@techpinoy.com</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <h2 className=\"text-2xl font-bold text-blue-800 mb-2\">PURCHASE INVOICE</h2>\r\n                <div className=\"text-sm space-y-1\">\r\n                  <p><strong>Invoice #:</strong> PI-{purchaseOrder.id.slice(0, 8)}</p>\r\n                  <p><strong>PO #:</strong> {purchaseOrder.id.slice(0, 8)}</p>\r\n                  <p><strong>Client PO #:</strong> {purchaseOrder.client_po || 'N/A'}</p>\r\n                  <p><strong>Date:</strong> {new Date(purchaseOrder.created_at).toLocaleDateString()}</p>\r\n                  <p><strong>Status:</strong> \r\n                    <span className={`ml-2 px-2 py-1 rounded text-xs ${\r\n                      purchaseOrder.status === 'completed' ? 'bg-green-100 text-green-800' :\r\n                      purchaseOrder.status === 'partial' ? 'bg-yellow-100 text-yellow-800' :\r\n                      'bg-gray-100 text-gray-800'\r\n                    }`}>\r\n                      {purchaseOrder.status.toUpperCase()}\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Supplier Information */}\r\n            <div className=\"grid grid-cols-2 gap-8\">\r\n              <div>\r\n                <h3 className=\"font-bold text-gray-800 mb-2 border-b\">SUPPLIER INFORMATION</h3>\r\n                <div className=\"text-sm space-y-1\">\r\n                  <p><strong>Name:</strong> {purchaseOrder.supplier_name || 'N/A'}</p>\r\n                  <p><strong>Address:</strong> N/A</p>\r\n                  <p><strong>Phone:</strong> N/A</p>\r\n                  <p><strong>Email:</strong> N/A</p>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-bold text-gray-800 mb-2 border-b\">BILL TO</h3>\r\n                <div className=\"text-sm space-y-1\">\r\n                  <p><strong>TechPinoy</strong></p>\r\n                  <p>Unit 2A, 2nd Floor, 1010 Metropolitan Ave</p>\r\n                  <p>Makati, Metro Manila, Philippines</p>\r\n                  <p>Phone: +63 2 1234 5678</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Items Table */}\r\n            <div>\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h3 className=\"font-bold text-gray-800\">ITEMS</h3>\r\n                {loading && <span className=\"text-sm text-gray-500\">Loading related transactions...</span>}\r\n              </div>\r\n              <table className=\"w-full border-collapse border border-gray-300\">\r\n                <thead>\r\n                  <tr className=\"bg-blue-800 text-white\">\r\n                    <th className=\"border border-gray-300 px-4 py-2 text-left\">Description</th>\r\n                    <th className=\"border border-gray-300 px-4 py-2 text-center\">Qty</th>\r\n                    <th className=\"border border-gray-300 px-4 py-2 text-right\">Unit Price</th>\r\n                    <th className=\"border border-gray-300 px-4 py-2 text-right\">Total</th>\r\n                    <th className=\"border border-gray-300 px-4 py-2 text-center\">Source</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {allItems.length > 0 ? allItems.map((item, index) => (\r\n                    <tr key={`${item.id}-${index}`} className={index % 2 === 0 ? 'bg-gray-50' : 'bg-white'}>\r\n                      <td className=\"border border-gray-300 px-4 py-2\">\r\n                        {item.model || 'N/A'}\r\n                      </td>\r\n                      <td className=\"border border-gray-300 px-4 py-2 text-center\">\r\n                        {item.quantity}\r\n                      </td>\r\n                      <td className=\"border border-gray-300 px-4 py-2 text-right\">\r\n                        ₱{item.unit_price.toLocaleString('en-US', { minimumFractionDigits: 2 })}\r\n                      </td>\r\n                      <td className=\"border border-gray-300 px-4 py-2 text-right\">\r\n                        ₱{item.total_price.toLocaleString('en-US', { minimumFractionDigits: 2 })}\r\n                      </td>\r\n                      <td className=\"border border-gray-300 px-4 py-2 text-center\">\r\n                        <span className={`px-2 py-1 rounded text-xs ${\r\n                          item.isFromTransaction ? 'bg-blue-100 text-blue-800' : 'bg-green-100 text-green-800'\r\n                        }`}>\r\n                          {item.isFromTransaction ? 'Transaction' : 'Purchase Order'}\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  )) : (\r\n                    <tr>\r\n                      <td colSpan={5} className=\"border border-gray-300 px-4 py-8 text-center text-gray-500\">\r\n                        No items found\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            {/* Related Transactions Summary */}\r\n            {relatedTransactions.length > 0 && (\r\n              <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n                <h4 className=\"font-bold text-blue-800 mb-2\">Related Transaction Records</h4>\r\n                <p className=\"text-sm text-blue-700\">\r\n                  Found {relatedTransactions.length} related transaction record(s) matching Client PO: {purchaseOrder.client_po}\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Totals */}\r\n            <div className=\"flex justify-end\">\r\n              <div className=\"w-80\">\r\n                <table className=\"w-full\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"py-2 pr-4 text-right font-medium\">Subtotal:</td>\r\n                      <td className=\"py-2 text-right\">₱{subtotal.toLocaleString('en-US', { minimumFractionDigits: 2 })}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"py-2 pr-4 text-right font-medium\">VAT (12%):</td>\r\n                      <td className=\"py-2 text-right\">₱{taxAmount.toLocaleString('en-US', { minimumFractionDigits: 2 })}</td>\r\n                    </tr>\r\n                    <tr className=\"border-t-2 border-gray-800\">\r\n                      <td className=\"py-2 pr-4 text-right font-bold text-lg\">Total Amount:</td>\r\n                      <td className=\"py-2 text-right font-bold text-lg\">₱{totalAmount.toLocaleString('en-US', { minimumFractionDigits: 2 })}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Payment Status */}\r\n            <div className=\"border-t pt-4\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                  <p className=\"text-sm\"><strong>Payment Status:</strong> \r\n                    <span className={`ml-2 px-2 py-1 rounded text-xs ${\r\n                      purchaseOrder.payment_status === 'paid' ? 'bg-green-100 text-green-800' :\r\n                      purchaseOrder.payment_status === 'partial' ? 'bg-yellow-100 text-yellow-800' :\r\n                      'bg-red-100 text-red-800'\r\n                    }`}>\r\n                      {purchaseOrder.payment_status.toUpperCase()}\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n                <div className=\"text-right text-xs text-gray-500\">\r\n                  <p>Generated on: {new Date().toLocaleDateString()}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Notes */}\r\n            {purchaseOrder.notes && (\r\n              <div className=\"border-t pt-4\">\r\n                <h3 className=\"font-bold text-gray-800 mb-2\">NOTES</h3>\r\n                <p className=\"text-sm text-gray-600\">{purchaseOrder.notes}</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Footer */}\r\n            <div className=\"border-t pt-4 text-center text-xs text-gray-500\">\r\n              <p>Thank you for your business!</p>\r\n              <p className=\"mt-1\">This is a computer-generated document. No signature required.</p>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n"],"names":["PurchaseInvoicePreview","isOpen","onClose","purchaseOrder","relatedTransactions","setRelatedTransactions","useState","loading","setLoading","useEffect","fetchRelatedTransactions","related","transactionService","t","error","handlePrint","allItems","subtotal","sum","item","taxAmount","totalAmount","jsxs","Fragment","jsx","Dialog","DialogContent","DialogHeader","DialogTitle","Button","X","index"],"mappings":"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"}